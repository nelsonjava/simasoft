<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="/resources/templates/default.xhtml">

    <ui:define name="content">

        <h:form id="loginForm" rendered="#{not identity.loggedIn}">
	   <h:messages globalOnly="true" />

	   <div class="loginRow">
		<h:outputLabel for="name" value="Username" styleClass="loginLabel" />
		<h:inputText id="name" value="#{loginCredentials.userId}" />
	   </div>

	   <div class="loginRow">
		<h:outputLabel for="password" value="Password" styleClass="loginLabel" />
		<h:inputSecret id="password" value="#{loginCredentials.password}"
			redisplay="true" />
	   </div>

	   <div class="loginRow"></div>

	   <div class="buttons">
		<h:commandButton id="login" value="Login" action="#{identity.login}"
			styleClass="loginButton" />
	   </div>

        </h:form>


        <ui:fragment rendered="#{identity.loggedIn}">
        <h1>>Hello World!</h1>

        <div>
            <p>You have successfully deployed a Java EE 6 Enterprise Application.</p>
        </div>

        <div>
            <h:link outcome="/admin/index.html" value="Admin"/>
        </div>
        </ui:fragment>

    </ui:define>
</ui:composition>
